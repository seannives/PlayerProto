<!DOCTYPE html>
<html>
    <head>
    <title class="setTitle"></title>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<meta content="Book Author, Book Title" name="description">
	
    <!-- Bootstrap -->
    <link href="css/bootstrap_plus.css" rel="stylesheet" media="screen">
	<link href="css/graphics_and_svg.css" rel="stylesheet">
	<link href="css/learning-objective.css" rel="stylesheet">
	<link href="css/module-opener.css" rel="stylesheet">
	<link href="css/toc.css" rel="stylesheet">
	<link href="css/grey-thing.css" rel="stylesheet">
	<link href="css/eCourse-master.css" rel="stylesheet" media="screen">
	
	<style>
	
		div.test
		{
			min-height: 200px;
		}
	
	</style>

    </head>
<body>

	<!-- Body Content -->
	<div class="container-fluid">
		<div class="row-fluid">
            
			<div class="span6 leftCol">
				
				<div class="test">
					<p>Test 0: One slider, no readout</p>
					<span id="t0slider"></span>
				</div>
				
				<div class="test">
					<p>Test 1: Two sliders, no readout</p>
					<div id="t1sliders">
						<span id="t1_1slider"></span>
						<span id="t1_2slider"></span>
					</div>
				</div>
				
				<div class="test">
					<p>Test 2: One slider, one readout</p>
					<span id="t2slider"></span>
					<p>Test 2 slider value = <span id="t2val"></span></p>
				</div>
				
				<div class="test">
					<p>Test 3: Two sliders, one readout</p>
					<div id="t3sliders">
						<span id="t3_1slider"></span>
						<span id="t3_2slider"></span>
					</div>
					<p>Slider 1 + Slider 2 = <span id="t3val"></span></p>
				</div>
				
				<div class="test">
					<p>Test 4: Two sliders, two readouts</p>
					<div id="t4sliders">
						<span id="t4_1slider"></span>
						<span id="t4_2slider"></span>
					</div>
					<p>Slider 1 = <span id="t4_1val"></span></p>
					<p>Slider 2 = <span id="t4_2val"></span></p>
				</div>
				
				<div class="test">
					<p>Test 5: Three sliders, one readout</p>
					<div id="t5sliders">
						<span id="t5_1slider"></span><br />
						<span id="t5_2slider"></span><br />
						<span id="t5_3slider"></span>
					</div>
					<p>(Slider 1 + Slider 2) / Slider 3 = <span id="t5val"></span></p>
				</div>
				
				<div class="test">
					<p>Test 6: One readout, no slider</p>
					<p>Readout value = <span id="t6val"></span></p>
				</div>
				
				<div class="test">
					<p>Test 7: Two half-sized sliders</p>
					<div class="span6">
						<span id="t7_1slider"></span>
					</div>
					<div class="span6">
						<span id="t7_2slider"></span>
					</div>	
				</div>
				
				
			</div>
			<div class="span6 rightCol">
				
				<div class="test">
					<p>Test 8: Slider next to readout</p>
					<div class="span3">
						Slider value = <span id="t8val"></span>
					</div>
					<div class="span6">
						<span id="t8slider"></span>
					</div>
				</div>
				
				<div class="test">
					<p>Test 9: Two sliders next to each other</p>
					<div class="span6">
						<span id="t9_1slider"></span>
					</div>
					<div class="span5">
						<span id="t9_2slider"></span>
					</div>
				</div>
				
				<div class="text">
					<p>Test 10: One slider changing another</p>
					<div id="t10sliders">
						<span id="t10_1slider"></span>
						<span id="t10_2slider"></span>
					</div>
					<p><span id="t10_1val"></span> + <span id="t10_2val"></span> = 100</p>
				</div>
				
			</div>
		</div>
    </div>

    <script src="js/jquery-latest.js"></script>
    <script src="js/bootstrap.min.js"></script>
	<!--script src="js/jquery.touchSwipe.min.js"></script-->
	<script src="js/jquery-ui-1.10.2.custom.js"></script>
    <script src="js/toc-structure.js"></script>    
    <script src="js/eCourse-master.js"></script>    
    <script src="js/d3.v3.min.js"></script>

	<script src="js/widget-base.js"></script>
	<script src="js/widget-slider.js"></script>
	<script src="js/widget-numeric.js"></script>
    <script src="js/widgets.js"></script>
    <script src="js/widget-callouts.js"></script>
    <script src="js/eventmanager.js"></script>

<script>

	// create event manager
	var eventManager = new EventManager();
	
	////////////////////////////////////////
	
	// Test 0: One slider, no readout
	var t0Extent = [0, 1];
	
	var t0Slide = new Slider ({
			id: "t0Val",
			startVal: 0.5,
			minVal: t0Extent[0],
			maxVal: t0Extent[1],
			stepVal: .01,
			label: "Test 0 slider",
			format: d3.format('5.2f'),
		}, eventManager);
	
	t0Slide.draw($("#t0slider"));
	
	/////////////////////////////////////////
	
	// Test 1: Two sliders, no readout
	var t1_1Extent = [0, 1],
		t1_2Extent = [0, 10];
		
	var t1_1Slide = new Slider ({
			id: "t1_1Val",
			startVal: 0.5,
			minVal: t1_1Extent[0],
			maxVal: t1_1Extent[1],
			stepVal: .01,
			label: "Test 1 slider 1",
			format: d3.format('5.2f'),
		}, eventManager);
		
	t1_1Slide.draw($("#t1_1slider"));
		
	var t1_2Slide = new Slider ({
			id: "t1_2Val",
			startVal: 5.0,
			minVal: t1_2Extent[0],
			maxVal: t1_2Extent[1],
			stepVal: .01,
			label: "Test 1 slider 2",
			format: d3.format('5.2f'),
		}, eventManager);
		
	t1_2Slide.draw($("#t1_2slider"));
	
	///////////////////////////////////////////
	
	// Test 2: One slider, one readout
	var t2Extent = [0, 20];
	
	var t2Slide = new Slider ({
			id: "t2Val",
			startVal: 10.0,
			minVal: t2Extent[0],
			maxVal: t2Extent[1],
			stepVal: .01,
			label: "Test 2 slider",
			format: d3.format('5.2f'),
		}, eventManager);
		
	t2Slide.draw($("#t2slider"));
	
	var t2Readout = new Readout ({
			node: d3.select("#t2val"),
			id: "t2Read",
			startVal: test2function(t2Slide.getValue()),
			readOnly: true,
			size: 10,
		}, eventManager);
		
	function test2function (input)
	{
		return d3.round(input, 2);
	}
	
	eventManager.subscribe(t2Slide.changedValueEventId, t2handleChangedValue);
	
	function t2handleChangedValue (newValue)
	{
		newVal = test2function(t2Slide.getValue());
		t2Readout.setValue(newVal);
	}
	
	//////////////////////////////////////////////
	
	// Test 3: Two sliders, one readout
	var t3_1Extent = [0, 5],
		t3_2Extent = [0, 15];
		
	var t3_1Slide = new Slider ({
			id: "t3_1Val",
			startVal: 2.5,
			minVal: t3_1Extent[0],
			maxVal: t3_1Extent[1],
			stepVal: .01,
			label: "Test 3 slider 1",
			format: d3.format('5.2f'),
		}, eventManager);

	t3_1Slide.draw($("#t3_1slider"));

	var t3_2Slide = new Slider ({
			id: "t3_2Val",
			startVal: 7.5,
			minVal: t3_2Extent[0],
			maxVal: t3_2Extent[1],
			stepVal: .01,
			label: "Test 3 slider 2",
			format: d3.format('5.2f'),
		}, eventManager);

	t3_2Slide.draw($("#t3_2slider"));
	
	var t3Readout = new Readout ({
			node: d3.select("#t3val"),
			id: "t3Read",
			startVal: test3function(t3_1Slide.getValue(), t3_2Slide.getValue()),
			readOnly: true,
			size: 10,
		}, eventManager);
		
	function test3function (input1, input2)
	{
		return d3.round((d3.round(input1, 2) + d3.round(input2, 2)), 2);
	}
	
	eventManager.subscribe(t3_1Slide.changedValueEventId, t3handleChangedValue);
	eventManager.subscribe(t3_2Slide.changedValueEventId, t3handleChangedValue);
	
	function t3handleChangedValue (newValue)
	{
		newVal = test3function(t3_1Slide.getValue(), t3_2Slide.getValue());
		t3Readout.setValue(newVal);
	}
	
	////////////////////////////////////////////////
	
	// Test 4: Two sliders, two readouts
	var t4_1Extent = [0, 10],
		t4_2Extent = [0, 20];
		
	var t4_1Slide = new Slider ({
			id: "t4_1Val",
			startVal: 5.0,
			minVal: t4_1Extent[0],
			maxVal: t4_1Extent[1],
			stepVal: .01,
			label: "Test 4 slider 1",
			format: d3.format('5.2f'),
		}, eventManager);

	t4_1Slide.draw($("#t4_1slider"));

	var t4_2Slide = new Slider ({
			id: "t4_2Val",
			startVal: 10.0,
			minVal: t4_2Extent[0],
			maxVal: t4_2Extent[1],
			stepVal: .01,
			label: "Test 4 slider 2",
			format: d3.format('5.2f'),
		}, eventManager);

	t4_2Slide.draw($("#t4_2slider"));
	
	var t4_1Readout = new Readout ({
			node: d3.select("#t4_1val"),
			id: "t4_1Read",
			startVal: test4function(t4_1Slide.getValue()),
			readOnly: true,
			size: 10,
		}, eventManager);
		
	var t4_2Readout = new Readout ({
			node: d3.select("#t4_2val"),
			id: "t4_2Read",
			startVal: test4function(t4_2Slide.getValue()),
			readOnly: true,
			size: 10,
		}, eventManager);
		
	function test4function (input)
	{
		return d3.round(input, 2);
	}
	
	eventManager.subscribe(t4_1Slide.changedValueEventId, t4handleChangedValue);
	eventManager.subscribe(t4_2Slide.changedValueEventId, t4handleChangedValue);
	
	function t4handleChangedValue (newValue)
	{
		newVal1 = test4function(t4_1Slide.getValue());
		newVal2 = test4function(t4_2Slide.getValue());
		
		t4_1Readout.setValue(newVal1);
		t4_2Readout.setValue(newVal2);
	}
	
	///////////////////////////////////////////////
	
	// Test 5: Three sliders, one readout
	var t5_1Extent = [0, 10],
		t5_2Extent = [0, 20],
		t5_3Extent = [1, 5];
		
	var t5_1Slide = new Slider ({
			id: "t5_1Val",
			startVal: 5,
			minVal: t5_1Extent[0],
			maxVal: t5_1Extent[1],
			stepVal: 1,
			label: "Test 5 slider 1",
			format: d3.format('5.2f'),
		}, eventManager);

	t5_1Slide.draw($("#t5_1slider"));

	var t5_2Slide = new Slider ({
			id: "t5_2Val",
			startVal: 10,
			minVal: t5_2Extent[0],
			maxVal: t5_2Extent[1],
			stepVal: 1,
			label: "Test 5 slider 2",
			format: d3.format('5.2f'),
		}, eventManager);

	t5_2Slide.draw($("#t5_2slider"));
	
	var t5_3Slide = new Slider ({
			id: "t5_3Val",
			startVal: 1,
			minVal: t5_3Extent[0],
			maxVal: t5_3Extent[1],
			stepVal: 1,
			label: "Test 5 slider 3",
			format: d3.format('5.2f'),
		}, eventManager);
		
	t5_3Slide.draw($("#t5_3slider"));
	
	var t5Readout = new Readout ({
			node: d3.select("#t5val"),
			id: "t5Read",
			startVal: test5function(t5_1Slide.getValue(), t5_2Slide.getValue(), t5_3Slide.getValue()),
			readOnly: true,
			size: 10,
		}, eventManager);
		
	function test5function (input1, input2, input3)
	{
		return d3.round(((d3.round(input1, 2) + d3.round(input2, 2)) / d3.round(input3, 2)), 2);
	}
	
	eventManager.subscribe(t5_1Slide.changedValueEventId, t5handleChangedValue);
	eventManager.subscribe(t5_2Slide.changedValueEventId, t5handleChangedValue);
	eventManager.subscribe(t5_3Slide.changedValueEventId, t5handleChangedValue);
	
	function t5handleChangedValue (newValue)
	{
		newVal = test5function(t5_1Slide.getValue(), t5_2Slide.getValue(), t5_3Slide.getValue());
		t5Readout.setValue(newVal);
	}
	
	////////////////////////////////////////////////
	
	// Test 6: One readout, no slider
	var t6Readout = new Readout ({
			node: d3.select("#t6val"),
			id: "t6Read",
			startVal: 5,
			readOnly: true,
			size: 10
		}, eventManager);
		
	////////////////////////////////////////////////
	
	// Test 7: Two half-sized sliders
	var t7_1Extent = [0, 10],
		t7_2Extent = [0, 10];
		
	var t7_1Slide = new Slider ({
			id: "t7_1Val",
			startVal: 1,
			minVal: t7_1Extent[0],
			maxVal: t7_1Extent[1],
			stepVal: 1,
			label: "Test 7 slider 1",
			format: d3.format('5.2f'),
		}, eventManager);
		
	t7_1Slide.draw($("#t7_1slider"));
	
	var t7_2Slide = new Slider ({
			id: "t7_2Val",
			startVal: 1,
			minVal: t7_2Extent[0],
			maxVal: t7_2Extent[1],
			stepVal: 1,
			label: "Test 7 slider 2",
			format: d3.format('5.2f'),
		}, eventManager);
		
	t7_2Slide.draw($("#t7_2slider"));
	
	////////////////////////////////////////////////
	
	// Test 8: Slider next to readout
	var t8Extent = [0, 10];
		
	var t8Slide = new Slider ({
			id: "t8Val",
			startVal: 1,
			minVal: t8Extent[0],
			maxVal: t8Extent[1],
			stepVal: 1,
			label: "Test 8 slider",
			format: d3.format('5.2f'),
		}, eventManager);
		
	t8Slide.draw($("#t8slider"));
	
	var t8Readout = new Readout ({
			node: d3.select("#t8val"),
			id: "t8Read",
			startVal: test8function(t8Slide.getValue()),
			readOnly: true,
			size: 10
		}, eventManager);
		
	function test8function (input)
	{
		return d3.round(input, 2);
	}

	eventManager.subscribe(t8Slide.changedValueEventId, t8handleChangedValue);

	function t8handleChangedValue (newValue)
	{
		newVal = test8function(t8Slide.getValue());
		t8Readout.setValue(newVal);
	}
	
	////////////////////////////////////////////////
	
	// Test 9: Two sliders next to each other
	var t9_1Extent = [0, 10],
		t9_2Extent = [0, 10];
		
	var t9_1Slide = new Slider ({
			id: "t9_1Val",
			startVal: 1,
			minVal: t9_1Extent[0],
			maxVal: t9_1Extent[1],
			stepVal: 1,
			label: "Test 9 slider 1",
			format: d3.format('5.2f'),
		}, eventManager);
		
	t9_1Slide.draw($("#t9_1slider"));
	
	var t9_2Slide = new Slider ({
			id: "t9_2Val",
			startVal: 1,
			minVal: t9_2Extent[0],
			maxVal: t9_2Extent[1],
			stepVal: 1,
			label: "Test 9 slider 2",
			format: d3.format('5.2f'),
		}, eventManager);
		
	t9_2Slide.draw($("#t9_2slider"));
	
	/////////////////////////////////////////////////
	
	// Test 10: One slider controlling another
	var t10_1Extent = [0, 100],
		t10_2Extent = [0, 100];
		
	var t10_1Slide = new Slider ({
			id: "t10_1Val",
			startVal: 50,
			minVal: t10_1Extent[0],
			maxVal: t10_1Extent[1],
			stepVal: .1,
			label: "Test 10 slider 1",
			format: d3.format('5.2f'),
		}, eventManager);
		
	t10_1Slide.draw($("#t10_1slider"));
	
	var t10_1Readout = new Readout ({
			node: d3.select("#t10_1val"),
			id: "t10_1Read",
			startVal: test10function(t10_1Slide.getValue()),
			readOnly: true,
			size: 10
		}, eventManager);
	
	var t10_2Slide = new Slider ({
			id: "t10_2Val",
			startVal: 50,
			minVal: t10_2Extent[0],
			maxVal: t10_2Extent[1],
			stepVal: .1,
			label: "Test 10 slider 2",
			format: d3.format('5.2f'),
		}, eventManager);
		
	t10_2Slide.draw($("#t10_2slider"));
	
	var t10_2Readout = new Readout ({
			node: d3.select("#t10_2val"),
			id: "t10_2Read",
			startVal: test10function(t10_2Slide.getValue()),
			readOnly: true,
			size: 10
		}, eventManager);
	
	function test10function (input)
	{
		return d3.round(input, 2);
	}
	
	eventManager.subscribe(t10_1Slide.changedValueEventId, handleInputValueChanged1);
	eventManager.subscribe(t10_2Slide.changedValueEventId, handleInputValueChanged2);
		
	function handleInputValueChanged1()
	{
		t10_2Slide.setValue(test10function(100 - t10_1Slide.getValue()));
		t10_2Readout.setValue(test10function(t10_2Slide.getValue()));
		t10_1Readout.setValue(test10function(t10_1Slide.getValue()));
	}
	
	function handleInputValueChanged2()
	{
		t10_1Slide.setValue(test10function(100 - t10_2Slide.getValue()));
		t10_1Readout.setValue(test10function(t10_1Slide.getValue()));
		t10_2Readout.setValue(test10function(t10_2Slide.getValue()));
	}

</script>
</body>
</html>